<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript" src="qrcode.js"></script>
	<script type="text/javascript" src="jquery.min.js"></script>
	<script type="text/javascript" src="download.js"></script>
	<script type="text/javascript" src="javascript.js"></script>
	<script type="text/javascript" src="FileSaver.js"></script>
	<script type="text/javascript" src="FileSaver.min.js"></script>
	<script type="text/javascript" src="dom-to-image.js"></script>
	<script type="text/javascript" src="jscolor.js"></script>
	<meta name="viewport" content="width=device-width">
	<script src="../../UI5Lab-central-master/combineProjects.js"></script>
</head>
<body>

<div class="on">
    <p>
		<b>Введите Ccылку.</b>
	</p>
<input class="vod" size="28" id="text">


<button class="click" id="inter">Cгенерировать</button>

	<div class="print" id="qrcode"></div>


	<button class="save" id="Save">Сохранить</button>
<br>
	<b class="still">Стиль</b>

<br>

    <input class="jscolor {onFineChange:'update(this)'}" value="red" id="zamena">
	<input class="jscolor {onFineChange:'update(this)'}" value="blue" id="zameni">

<script>

	var qrcode = new QRCode(document.getElementById("qrcode"), {
		width : 200,
		height : 200,
		colorDark: $('#zamena').val(),
		colorLight: $('#zameni').val(),
	});


	function makeCode () {
		var elText = document.getElementById("text");

		qrcode.makeCode(elText.value);
	}

	makeCode();

	document.getElementById('inter').addEventListener('click', makeCode, update(jscolor));

	function update(jscolor) {
		document.getElementById('zamena').style.color = '#' + jscolor;
		document.getElementById('zameni').style.color = '#' + jscolor;
	}


	var btn = document.getElementById('Save');
	btn.onclick = function() {
		domtoimage.toBlob(document.getElementById('qrcode'))
				.then(function(blob) {
					window.saveAs(blob, 'qrcode.png');
				});
	}


</script>


</div>

</body>
</html>

